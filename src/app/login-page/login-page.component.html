    <div class="pergamena">
        @if (loginState) 
        {   
            <img class="ribbon-login" src="https://i.imgur.com/HVdsWFS.png" alt="">
            <img class="bg-form" src="https://i.imgur.com/b1VcdV1.png" alt="">
            <form class="form_pos flex w-[30rem] flex-col space-y-10" [formGroup]="oldUserForm">
                <div class=" scritte text-center text-4xl font-medium" style="transform: translate(0px,-30px);">
                    Login
                </div>
                <!--  USERNAME -->
                <div class="form-input w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-blue-300">
                    <input type="text" placeholder="Username" style="text-align: center; font-style: italic;" class=" w-full border-none bg-transparent outline-none placeholder:italic placeholder:color focus:outline-none" formControlName="username" required>
                    
                </div>
                <div *ngIf="oldUserForm.get('username')?.getError('usernameTaken') && oldUserForm.get('username')?.touched" class="mt-2 text-sm text-red-600">
                    {{usernameTakenMessage}}
                </div> 
                <!-- PASSWORD -->
                <div class="form-input w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-blue-300">
                    <input type="password" min="6" placeholder="Password" style=" text-align: center;font-style: italic;" class=" border-none bg-transparent outline-none placeholder:italic focus:outline-none" formControlName="password" required>
                </div>

                <button [disabled]="oldUserForm.invalid" (click)="login()" class="scritte login-button transform rounded-smpy-2 font-bold duration-300 hover:bg-[url(https://i.imgur.com/WB1cXhE.png)]">Login</button>
                <div class="switch-bg">
                    <p class="text-center text-lg">
                        
                        <button (click)="registerForm()" class="switch-button ombra scritte font-medium  underline-offset-4 hover:underline" style="transform: translate(0px,10px) scale(1.3);">Register</button>
                        </p>
                </div>
            </form>
            <div class="error3 text-white" *ngIf="oldUserForm.getError('backendError')">
                <img  src="https://i.imgur.com/eY2D0t3.png" alt="">
                <h2 style="transform: translate(70px,-50px);">{{oldUserForm.getError('backendError')}}</h2>
            </div>
        }
        @else 
        {
            <img class="ribbon-register" src="https://i.imgur.com/HVdsWFS.png" alt="">
            <img class="bg-form-register" src="https://i.imgur.com/b1VcdV1.png" alt="">
            <form class="form-pos flex w-[30rem] flex-col space-y-4" [formGroup]="newUserForm">
                <div class="scritte text-center text-4xl font-medium" style="transform: translate(0px,-50px);">
                    Register
                </div>

                <!-- EMAIL -->

                <div class="form-input w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-indigo-500">
                    <input type="email" placeholder="esempio@email.com" style="text-align: center;font-style: italic;" class="w-full border-none bg-transparent outline-none placeholder:italic focus:outline-none" formControlName="email" required>
                </div>


                <!-- USERNAME -->

                <div class="form-input w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-indigo-500">
                    <input type="text" placeholder="Username" style="text-align: center;font-style: italic;" class="w-full border-none bg-transparent outline-none placeholder:italic focus:outline-none" formControlName="username" required>
                </div>


                <!-- PASSWORD -->
                
                <div class="form-input w-full transform border-b-2 bg-transparent text-lg duration-300 focus-within:border-indigo-500">
                    <input type="password" min="6" placeholder="Password" style="text-align: center;font-style: italic;" class="w-full border-none bg-transparent outline-none placeholder:italic focus:outline-none" formControlName="password" required>
                </div>

                    
                

                <button [disabled]="newUserForm.invalid" (click)="register()" class="scritte register-button transform rounded-sm  py-2 font-bold duration-300">Register</button>
                <div class="switch-bg">
                    <p class="text-center text-lg">
                        <button  (click)="registerForm()" class="font-medium ombra scritte underline-offset-4 hover:underline" style="transform: translate(0px,10px) scale(1.3);"  >Login</button>
                    </p>
                </div>
        </form>
        }
        <!-- <div>
            <p class="text-center text-lg">
                <button  (click)="logout()" class="font-medium text-indigo-500 underline-offset-4 hover:underline">Logout</button>
            </p>
        </div> -->
        <div>
            <!-- ERROR BACKEND -->
        
            <div class="error1 text-white" *ngIf="newUserForm.getError('backendError') ">
                <img  src="https://i.imgur.com/eY2D0t3.png" alt="">
                <h2 style="transform: translate(70px,-50px);">{{newUserForm.getError('backendError')}}</h2>
            </div>
            <div class="error1 text-white" *ngIf="newUserForm.hasError('emailErr')">
                <img  src="https://i.imgur.com/eY2D0t3.png" alt="">
                <h2 style="transform: translate(70px,-50px);">{{newUserForm.getError('emailErr')}}</h2>
            </div>
        
            <!-- ERROR USERNAME -->
            
            <div>
                <div class="error2 text-white" *ngIf="newUserForm.get('username')?.getError('nickErr')">
                    <img class="" src="https://i.imgur.com/eY2D0t3.png" alt="">
                    <h2 style="transform: translate(70px,-50px);"> {{newUserForm.get('username')?.getError('nickErr')}} </h2>
                </div>
            </div>
            <!-- ERROR PSW -->
            <div>
                @if(newUserForm.get('password')?.getError('passwordErr') && newUserForm.get('password')?.dirty)
                {
                <div class="error3 text-white">
                    <img  src="https://i.imgur.com/eY2D0t3.png">
                    <h2 style="transform: translate(70px, -60px); max-width: 320px;">{{newUserForm.get('password')?.getError('passwordErr')}}</h2>
                </div>
                }
            </div>
        </div>
    </div>

